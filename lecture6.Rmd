---
title: "Data science and analysis in Neuroscience"
author: "Kevin Allen"
date: "December 21, 2020"
output:
  ioslides_presentation: default
  beamer_presentation: default
  slidy_presentation: default
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(knitr)
```

## Machine learning and DeepLabCut

1. Brief review of last lecture
2. Introduction to DeepLabCut
3. Example of how to use DeepLabCut

## Review

Machine learning is the field of study that gives computer the ability to learn without being explicitely programmed.

-- Arthur Samuel, 1959

Examples : A program learns to decide whether an email is spam or not based on training set. 

## Definition of machine learning

* Prediction versus inference
* Supervised versus unsupervised
* Regression versus classification

## How do computers learn?

Often using an iterative process (i.e. a loop).

1. Feed data to your model
2. Calculate the error (loss).
3. Adjust the model parameters by a small amount to minimize the loss, using gradients.
4. Go back to 1.


## Linear regression

* One of the simplest model to explain your data.
* $Y = wX + b$
* $Y$: target
* $X$: features (inputs)
* $w$ is the slope and $b$ is the intercept.
* We found the best parameters $w$ and $b$ that minimize a loss function.


## DeepLabCut

[https://www.mousemotorlab.org/deeplabcut/](https://www.mousemotorlab.org/deeplabcut/)

## DeepLabCut

* A method for 3D markerless pose estimation
* Use for animal behavior but very flexible
* Uses deep neural networks to process images (convolutional neural network)
* Matches human accuracy, but is much faster
* Used more and more in behavioral experiments
* Based on open-source technologies (python, tensorflow, etc)
* Training with a graphics card or with online services

Previous alternative: video recordings with easily recognizable reflective markers on the animal.


## Deep neural network

```{r, echo=FALSE,out.width = "800px"}
knitr::include_graphics("images/deep-neural-network.png")
```


## History

* Deep convolutional neural networks became able to detect objects and classify images (ImageNet).

```{r, echo=FALSE,out.width = "800px"}
knitr::include_graphics("images/imageNetResults.png")
```

Shawahna, Sait, El-Maleh (2018) IEEEAccess



## DeepLabCut: the workflow


```{r, echo=FALSE,out.width = "800px"}
knitr::include_graphics("images/dlcOverview.png")
```


## DeepLabCut: the workflow


```{r, echo=FALSE,out.width = "800px"}
knitr::include_graphics("images/MathisFigure1.png")
```


## DeepLabCut: performance

```{r, echo=FALSE,out.width = "800px"}
knitr::include_graphics("images/MathisFigure2.png")
```

## Python and jupyter notebook

We need to use python instead of R to run DeepLabCut.

Have a look at the jupyter notebook called `dlcLaptop.ipynb` in the DeepLabCut directory of the course repository.


If you are new to jupyter notebook, you can install [Anaconda](https://www.anaconda.com/) on your computer. After installation, you should be able to start jupyter notebook on your computer.

The [Jupyter Notebook](https://jupyter.org/) is an open-source web application that allows you to create and share documents that contain live code, equations, visualizations and narrative text.

